# Изменение URL для кнопок действий ActionColumn в GridView

Бывают ситуации, когда для действий в **```ActionColumn```** нам нужно поменять URL для какой-то из кнопок. 
По-умолчанию, при кратком указании содержимого колонки как **```ActionColumn```** в виде:

```php
GridView::widget([
    'dataProvider' => $dataProvider,
    'columns' => [
        ...
        [
            'class' => 'yii\grid\ActionColumn',            
        ]
    ],
]);
```

Фреймворк сформируем адреса кнопок относительно контроллера в котором формируется **```GridView``**. 

Например, у нас есть контроллер **```Products```**, на странице **```index```** которого мы формируем список товаров.

В этом случае для кнопки **просмотра** каждого из товаров в таблице будет сформирован адрес:

```php
/products/view?id=1
```

Для кнопки **редактирования**:

```php
/products/update?id=1
```

Для кнопки **удаления**:

```php
/products/delete?id=1
```

Часто бывает так, что для какой-либо из кнопок требуется задать другой **URL** для действия.

Можно решить эту задачу следующим образом:

```php
GridView::widget([
    'dataProvider' => $dataProvider,
    'columns' => [
        ...
        [
            'class' => 'yii\grid\ActionColumn',
            'buttons' => [
                'update' => function($model, $key, $index) {
                    return Html::a(
                        '<span class="glyphicon glyphicon-pencil">',
                        Url::to(['special-update', 'id' => $index])
                    );
                }
            ]
        ]
    ],
]);
```

Это вариант подходит в том случае, когда необходимо изменить не **только URL кнопки**, но и **её внешний вид**. Например, добавить **другое изображение** для иконки или просто вывести только текст ссылки вместо картинки.

Если необходимо изменить **только URL** действия, нужно использовать следующий вариант:

```php
GridView::widget([
    'dataProvider' => $dataProvider,
    'columns' => [
        ...
        [
            'class' => 'yii\grid\ActionColumn',
            'urlCreator' => function ($action, $model, $key, $index) {
                if ($action === 'update') {
                    return Url::to(['special-update', 'id' => $model->id]);
                }
            }
        ]
    ],
]);
```

Обратите внимание, что метод **```UrlCreator```** возвращает для определенного действия строку, которая и станет **URL** для этого действия. Другими словами, сформировать строку можно **как угодно**. Например, с помощью **хэлпера Url** или даже **написать вручную**:

```php
'urlCreator' => function ($action, $model, $key, $index) {
    if ($action === 'update') {
        return '/special-special-update?id=' . $model->id;
    }
}
```

В таком случае адрес, указанный вручную, будет сформирован **относительно корня сайта**. Т.е., для вышеуказанного случая он примет вид:

```php
http://mega-project.ru/special-special-update?id=1
```
 
Параметры метода **```UrlCreator```**: 
* **```$action```** - название действия, для которого изменяется URL (view, update, delete и т.д.);
* **```$model```** - объект строки, для которого устанавливается действие (например, для таблицы товаров, это объект класса **Product**);
* **```$key```** - id объекта строки;
* **```$index```** - порядковый номер строки объекта в таблице (начинается с 0).
